---
title: "JavaScript程式碼錯誤：\"分配大小溢出\""
description: 說明
solution: Campaign
product: Campaign
applies-to: "Campaign Classic"
keywords: "KCS,JavaScript分配錯誤"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Amol Mahajan
article-created-date: "9/23/2022 10:20:44 AM"
article-published-by: Amol Mahajan
article-published-date: "9/23/2022 10:40:12 AM"
version-number: 4
article-number: KA-14877
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=c77d085e-293b-ed11-9db0-000d3a5c1bcc"
source-git-commit: d9dda30725cdb4396929dbed062da8bd8615a3b5
workflow-type: tm+mt
source-wordcount: '193'
ht-degree: 1%

---

# JavaScript程式碼錯誤：&quot;分配大小溢出&quot;

## 說明

<br>環境<br><br>
Campaign Classic
<br><br>問題/症狀<br><br>
JavaScript中的配置大小溢出錯誤

這是一種記憶體問題，在JavaScript中，為嘗試存取資料庫的每個查詢分配的記憶體超出伺服器配置檔案中設定的限制。
<br><br>例如：當您對30K的收件者執行傳送至LINE，並呼叫後置處理以產生檔案至LINE時，讀取檔案至變數的JavaScript程式碼會擲回錯誤： *分配大小溢出*









## 解析度

<b>如何解決此錯誤？</b>
此錯誤可透過兩種方式解決：

1. 您可以提高 `serverConf.xml`:




```
!-- Configuring the JavaScript interpreter
```


` `

`     maxMB :  Maximum size in megabytes before running the garbage collector Default: 64`

`     stackSizeKB :  Size of each stack chunk in kilo octets Default: 8 --`

`javaScript maxMB="512" stackSizeKB="8"`



/



注意：若為托管伺服器， *AdobeTechOps* 團隊將執行此任務。 針對內部部署，客戶必須自行進行變更。



*(<b>提示：我</b><b>對於大型表格的自訂和複雜報表，需要將JavaScript從64MB提高到512MB</b>)*



2. 使用類似 `linecount=no of records to retrieve` 或 `noLineCount =true` 建立查詢定義時。

看起來像 `queryDef schema=schemaName operation= Select lineCount= 100000 or noLineCount=true`

不過，上述選項僅適用於某些計數，而非當計數超過特定值時。
