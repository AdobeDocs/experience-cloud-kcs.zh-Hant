---
title: '''Javascript程式碼錯誤："分配大小溢出""'
description: 說明
solution: Campaign
product: Campaign
applies-to: Campaign Classic
keywords: KCS,JavaScript分配錯誤
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Ananya Kuthiala
article-created-date: 5/11/2022 8:47:34 AM
article-published-by: Ananya Kuthiala
article-published-date: 5/11/2022 8:50:08 AM
version-number: 2
article-number: KA-14877
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=e9cf37fa-06d1-ec11-a7b5-0022480a8e40
exl-id: a4bb0313-de1e-4f12-bd16-b994f9bb92e5
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '227'
ht-degree: 1%

---

# Javascript程式碼錯誤：&quot;分配大小溢出&quot;

## 說明

<br>Javascript中的配置大小溢出錯誤<br><br>

<br><br>在嘗試存取資料庫的JS中，為每個查詢分配的記憶體超過伺服器設定檔案中設定的限制，這種記憶體問題。<br><br>例如，當您對30K收件者執行傳送至LINE，並呼叫後置處理以產生檔案至LINE時，讀取檔案至變數的JS程式碼會擲回錯誤：<br><br>&quot;分配大小溢出&quot;<br><br>









## 解析度

<b>如何解決此錯誤？</b>


此錯誤可透過兩種方式解決：



1. 您可以提高serverConf.xml中分配的記憶體：



! — 配置JavaScript解釋器

maxMB :  運行垃圾收集器前的最大大小(MB)預設值：64

stackSizeKB :  每個堆棧塊的大小（以千位八位元組為單位）預設值：8 —

javaScript maxMB=&quot;512&quot; stackSizeKB=&quot;8&quot;/



注意：若為托管伺服器，AdobeTechOps團隊會執行此工作。 針對內部部署，客戶必須自行進行變更。



*(<b>提示： </b><b>大型表格上的自訂和複雜報表，需要將Javascript從64MB增加至512MB。</b>)*



2. 建立查詢定義時，請使用linecount=no of records來擷取，或noLineCount =true等。



它看起來就像queryDef schema=schemaName operation= Select lineCount= 100000或noLineCount=true



不過，上述選項可能適用於某些計數，而非當計數超出特定值時。
