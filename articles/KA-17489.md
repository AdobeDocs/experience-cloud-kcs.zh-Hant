---
title: 「AEM 6.4.2+升級至AEM 6.5的已知問題」
description: 說明
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager 6.4,Experience Manager 6.5"
keywords: "KCS"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Roxann McGlumphy
article-created-date: "10/21/2021 5:41:21 PM"
article-published-by: Roxann McGlumphy
article-published-date: "10/21/2021 5:43:10 PM"
version-number: 1
article-number: KA-17489
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=a344a718-9632-ec11-b6e5-000d3a5ba97a"
exl-id: 7b2a7332-3511-4053-a7f3-c2f7a15a6111
source-git-commit: 6a23faae10364181be7dedc2f408f2ad8d8be3c9
workflow-type: tm+mt
source-wordcount: '321'
ht-degree: 0%

---

# AEM 6.4.2+升級至AEM 6.5的已知問題

## 說明


如果從6.4.2（以上）升級至6.5，而此執行個體先前已從AEM 6.1或AEM 6.2升級，則升級可能會失敗，並遺失需求錯誤

<b>*04.12.2019 15:14:33.439 \*錯誤\* FelixStartLevel錯誤：捆綁&#39;827&#39;錯誤啟動/停止捆綁。 (org.osgi.framework.BundleException:無法解析org.apache.sling.scripting.javascript 827(R 827.0):缺少需求org.apache.sling.scripting.javascript 827(R 827.0)osgi.buincing.package;(&amp;(osgi.buining.package=javax.jcr)(version=2.0.0))未解決的要求：org.apache.sling.scripting.javascript 827(R 827.0)osgi.buincing.package;(&amp;(osgi.buining.package=javax.jcr)（版本=2.0.0）)*
*org.osgi.framework.BundleException:無法解析org.apache.sling.scripting.javascript 827(R 827.0):缺少需求org.apache.sling.scripting.javascript 827(R 827.0)osgi.buincing.package;(&amp;(osgi.buining.package=javax.jcr)(version=2.0.0))未解決的要求：org.apache.sling.scripting.javascript 827(R 827.0)osgi.buincing.package;(&amp;(osgi.buining.package=javax.jcr)（版本=2.0.0）)*
*at org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4368)*
*at org.apache.felix.framework.Felix.startBundle(Felix.java:2281)*
*at org.apache.felix.framework.Felix.setBundleStartLevel(Felix.java:1727)*
*at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:338)*
*at java.lang.Thread.run（未知源）*
*04.12.2019 15:14:33.440 \*錯誤\* FelixStartLevel錯誤：捆綁&#39;828&#39;錯誤啟動/停止捆綁。 (org.osgi.framework.BundleException:無法解析org.apache.sling.scripting.jst 828(R 828.0):缺少需求org.apache.sling.scripting.jst 828(R 828.0)osgi.buining.package;(&amp;(osgi.buining.package=javax.jcr)（版本=1.0.0）(!（版本=3.0.0）)未解決的要求：org.apache.sling.scripting.jst 828(R 828.0)osgi.buincing.package;(&amp;(osgi.buining.package=javax.jcr)（版本=1.0.0）(!（版本=3.0.0）)*
*org.osgi.framework.BundleException:無法解析org.apache.sling.scripting.jst 828(R 828.0):缺少需求org.apache.sling.scripting.jst 828(R 828.0)osgi.buining.package;(&amp;(osgi.buining.package=javax.jcr)（版本=1.0.0）(!（版本=3.0.0）)未解決的要求：org.apache.sling.scripting.jst 828(R 828.0)osgi.buincing.package;(&amp;(osgi.buining.package=javax.jcr)（版本=1.0.0）(!（版本=3.0.0）)*
*at org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4368)*
*at org.apache.felix.framework.Felix.startBundle(Felix.java:2281)*
*at org.apache.felix.framework.Felix.setBundleStartLevel(Felix.java:1727)*
*at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:338)*
*at java.lang.Thread.run（未知源）*

<br>或者，此錯誤：</b>

```
11.12.2019 10:26:32.102 \*ERROR\* FelixDispatchQueue com.adobe.granite.crypto FrameworkEvent ERROR (org.osgi.framework.BundleException: Unable to resolve com.adobe.granite.crypto 158(R 158.3): missing requirement com.adobe.granite.crypto 158(R 158.3) osgi.wiring.package; (&(osgi.wiring.package=org.apache.commons.io)(version=2.0.1)(!(version=3.0.0))) Unresolved requirements: com.adobe.granite.crypto 158(R 158.3) osgi.wiring.package; (&(osgi.wiring.package=org.apache.commons.io)(version=2.0.1)(!(version=3.0.0))))
 org.osgi.framework.BundleException: Unable to resolve com.adobe.granite.crypto 158(R 158.3): missing requirement com.adobe.granite.crypto 158(R 158.3) osgi.wiring.package; (&(osgi.wiring.package=org.apache.commons.io)(version=2.0.1)(!(version=3.0.0))) Unresolved requirements: com.adobe.granite.crypto 158(R 158.3) osgi.wiring.package; (&(osgi.wiring.package=org.apache.commons.io)(version=2.0.1)(!(version=3.0.0)))
 at org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4368)
 at org.apache.felix.framework.Felix.startBundle(Felix.java:2281)
 at org.apache.felix.framework.Felix$RefreshHelper.restart(Felix.java:5349)
 at org.apache.felix.framework.Felix.refreshPackages(Felix.java:4516)
 at org.apache.felix.framework.FrameworkWiringImpl.run(FrameworkWiringImpl.java:188)
 at java.lang.Thread.run(Thread.java:748)
```

## 解析度


1. 升級到6.5之後（或在運行最終升級命令之前），請停止實例
2. 下載 [這個commons-io jar](https://repo1.maven.org/maven2/commons-io/commons-io/2.6/commons-io-2.6.jar) 放到伺服器下 `crx-quickstart/install`
3. 使用以下命令重新啟動實例

   <b>java -server -Xmx1024m -XX:MaxPermSize=256M -Djava.awt.headless=true -Dsling.run.modes=author,crx3,crx3tar-jar cq-quickstart-6.5.0.jar -p 4502 -Dsling.properties=conf/sling.properties -Dorg.apache.sling.launchpad.startupmode=UPDATE&amp;</b>
4. 檢查 `/system/console/bundles`，所有套件組合都處於作用中狀態且系統已完全升級後，請再次停止執行個體。
5. 透過以下命令重新啟動執行個體

   <b>java -server -Xmx1024m -XX:MaxPermSize=256M -Djava.awt.headless=true -Dsling.run.modes=author,crx3,crx3tar-jar cq-quickstart-6.5.0.jar -p 4502 -Dsling.properties=conf/sling.properties &amp;</b>
6. 升級應已成功完成。

<br><br><br><br><br><br>其他資訊<br><br><br><br><br><br>
升級先前從AEM 6.1或AEM 6.2升級的AEM 6.4.2+執行個體時，會發生此問題
