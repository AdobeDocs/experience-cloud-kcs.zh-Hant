---
title: "Target VEC未識別頁面的屬性代號"
description: 說明
solution: Target
product: Target
applies-to: "Target"
keywords: "KCS，屬性代號，頁面，未識別， Target VEC, Adobe Target, at_property, window.targetPageParams函式"
resolution: Resolution
internal-notes: null
bug: true
article-created-by: Jim Menn
article-created-date: "9/27/2022 4:08:29 AM"
article-published-by: Jim Menn
article-published-date: "9/27/2022 6:32:36 AM"
version-number: 3
article-number: KA-15576
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=32246c07-1a3e-ed11-9db1-0022480866ad"
source-git-commit: 22f4625b33a00edc1424fe0e944b81212b4a0b1f
workflow-type: tm+mt
source-wordcount: '392'
ht-degree: 0%

---

# Target VEC未識別頁面的屬性代號

## 說明


<b>環境</b>
Adobe Target

<b>問題</b>
Target VEC無法正確辨識頁面的屬性Token。

VEC顯示警告訊息 *在此頁上未找到屬性令牌* 建立活動時傳回。

<b>原因</b>
<b>如何 `at_property` 在「編寫」和「傳送」期間使用？</b>

<u>製作</u>:當客戶在VEC中載入其頁面/SPA時，VEC會掃描頁面以尋找 `window.targetPageParams` 函式。
如果找到此函式，則會執行它並嘗試解壓 `at_property` 值，並根據此值決定此屬性的工作區。
如果VEC找不到此函式或此函式遺失，則VEC會預設為預設工作區。

<u>傳送</u>:傳送期間，Target Edge不會考慮 `at_property` 值來自。 只要在要求中傳遞屬性值，就能正常運作。

<u>在Launch中如何運作？</u>
概述這兩種操作模式後，就必須說明Launch中發生的情況。
在Launch中，客戶可以任何想要的方式將參數新增至Launch動作，因此通常 `at_property` 會以參數的形式傳遞至 `Fire global mbox request`.
這非常適合用於傳送，不過在VEC中載入網站時，因為沒有 `window.targetPageParams`,VEC無法取得正確的工作區。


## 解析度


<b>因應措施</b>
若要解決此問題並確保VEC如預期般運作，方法之一是要求客戶建立Launch自訂程式碼動作，以定義 `window.targetPageParams` 函式 `at_property`.

客戶必須先確定此動作已執行，才能載入Target程式庫或引發全域mbox要求。

替代方法是調整VEC，使VEC與AdobeLaunch之間具有原生整合，但這需要適當的範圍界定，實作所需的時間會更長。

<u>解決方法</u>:

1. 建立Launch自訂程式碼動作，以定義 `window.targetPageParams` 函式 `at_property`.


```
window.targetPageParams = function() {return {"at_property" : "%atproperty%"}; }
```


2. 同時也請確定此動作會在載入Target程式庫或引發全域mbox要求之前執行。

上述步驟應可確保VEC在建立活動時正確辨識屬性。

![](http://omniture.custhelp.com/ci/inlineImage/get/3018176/a5a902ecd7ac849bb5bf0fa7e22e14e7)
