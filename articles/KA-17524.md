---
title: 如何在Marketing CloudDTM中設定AdobeID服務協助程式功能
description: 說明
solution: Experience Cloud
product: Experience Cloud
applies-to: Experience Cloud
keywords: KCS
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Roxann McGlumphy
article-created-date: 4/22/2022 10:07:06 PM
article-published-by: Roxann McGlumphy
article-published-date: 4/22/2022 10:09:44 PM
version-number: 2
article-number: KA-17524
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=2ac6a38a-88c2-ec11-983e-0022480abde0
exl-id: c8937c83-3499-4fa7-9751-25ba4543cff1
source-git-commit: 0c3e421beca46d9fe1952b1f98538a50697216a0
workflow-type: tm+mt
source-wordcount: '234'
ht-degree: 5%

---

# 如何在Marketing CloudDTM中設定AdobeID服務協助程式功能

## 說明


本文逐步說明如何實作Adobe Marketing Cloud ID Service [附加訪客ID函式](https://marketing.adobe.com/resources/help/zh_TW/mcvid/mcvid-appendvisitorid.html) 在AdobeDynamic Tag Management(DTM)中
<br><br><br><br> <br><br>必要條件<br><br><br><br> <br><br>
- 載入Marketing CloudID服務 `VisitorAPI.js` 1.8.0或更高版本 [DTMMarketing CloudID服務](https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid-dtm-implement.html) 在來源網域和目標網域上
- 在封鎖Cookie以驗證功能的瀏覽器情況下，應進行測試



## 解析度

<br><br>設定 — 網域A<br><br><br><br> <br><br>
在循序的「頁面載入頂端」規則中，使用網域A上的自訂第三方Javascript設定目標網域（網域B）。 *例如：*
![螢幕截圖2016-09-20 16.02.25](https://helpx.adobe.com/content/dam/help/en/dtm/kb/how-to-set-marketing-cloud-id-service-helper-function-in-adobe-d/jcr%3acontent/main-pars/image/Screenshot%202016-09-20%2016.02.25.png "螢幕截圖2016-09-20 16.02.25")![螢幕截圖2016-09-20 16.04.57](https://helpx.adobe.com/content/dam/help/en/dtm/kb/how-to-set-marketing-cloud-id-service-helper-function-in-adobe-d/jcr%3acontent/main-pars/image_1393293752/Screenshot%202016-09-20%2016.04.57.png "螢幕截圖2016-09-20 16.04.57")

```
  | //Code on Domain A var domainB = "www.domainb.com" ;
 //Call the ID service var visitor = Visitor.getInstance ( "Insert Marketing Cloud organization ID here" ,{     trackingServer: "Insert tracking server here here" ,  //Same as s.trackingServer     trackingServerSecure: "Insert secure tracking server here" ,  //Same as s.trackingServerSecure     ...     //Other getInstance variables here     ... });
  //Add the helper function var domainBWithVisitorIDs = visitor.appendVisitorIDsTo(domainB);
  //Redirect to Domain B window.location = _satellite.getVisitorId().appendVisitorIDsTo(domainB) |
```


注意:

若要重新導向至更明確的路徑，網域設定必須反映該意圖。 如果重新導向需要更動態的建構，則可將自訂程式碼新增至資料元素或直接呼叫規則。 例如︰`var domainB = "http://www.domainb.com/products/"`


<br><br><br><br> <br><br>驗證 — 域B<br><br><br><br> <br><br>
從網域A導覽至網域B。在開發人員主控台中呼叫下列項目，確認網域B上的MID符合網域a上的MID:

`_satellite.getVisitorId().getMarketingCloudVisitorID()`
