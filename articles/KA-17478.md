---
title: 「疑難排解AEM MSM問題」
description: 說明
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: 「KCS」
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Nayanika Chakravarty
article-created-date: "5/29/2023 7:47:49 PM"
article-published-by: Nayanika Chakravarty
article-published-date: "5/29/2023 7:49:57 PM"
version-number: 4
article-number: KA-17478
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=765f9bae-59fe-ed11-8f6e-6045bd006b4b"
source-git-commit: 3e61f833d69080afea69eb26ab2151b708968fe0
workflow-type: tm+mt
source-wordcount: '697'
ht-degree: 2%

---

# 疑難排解AEM MSM問題

## 說明 {#description}

<b>環境</b>
Experience Manager


<b>問題/症狀</b>
基本驗證



- 檢查 [MSM常見問題集頁面](https://experienceleague.adobe.com/docs/experience-manager-65/administering/introduction/troubleshoot-msm.html?lang=en#faq) 以檢視您的問題或疑問尚未在該處解決
- 檢查 [MSM最佳實務檔案頁面](https://experienceleague.adobe.com/docs/experience-manager-65/administering/introduction/msm-best-practices.html?lang=en)
- 安裝最新的Service Pack後，請確定問題可重複發生



## 解決方法 {#resolution}

尋找有關您的Blueprint和即時副本狀態的進階資訊<br> 
多網站管理員(MSM)會在資源URL上註冊數個可使用選取器請求的servlet。

它們由UI使用，也可以直接請求以直接檢視頁面的其他進階計算MSM狀態：

<b>1) http://host:port/content/path/to/bluprint/page.blueprint.json?&amp;maxSize=500&amp;advancedStatus=true&amp;returnRelationships=true&amp;msm%3Atrigger=ROLLOUT</b>

在Blueprint頁面上使用，以擷取連結至該頁面的所有即時副本清單，並帶有進階LC狀態。



<b>2) http://host:port/content/path/to/livecopy/page.msm.json</b>

在Livecopy頁面上使用，以取得關於其與Blueprint頁面連線的進階資訊。
如果頁面不是Livecopy，則不會傳回任何內容。



這些servlet會透過產生DEBUG記錄訊息 <b>com.day.cq.wcm.msm </b>值得檢查的記錄器。
<br> 檢查存放庫中的MSM特定資訊<br> 
上述servlet會根據MSM特定節點和Mixin傳回計算資訊。

資訊的儲存方式如下。

- <b>`cq:LiveSync` </b>mixin<b> </b>type

這是在jcr：content節點上設定的，並定義 <b>根Livecopy頁面。</b>
這些頁面將具有 <b>cq：LiveSyncConfig</b> 型別的子節點 <b>cq：LiveCopy </b>透過下列屬性，將包含LiveCopy的基本和必要資訊：

<b>cq：master ： </b>指向即時副本的Blueprint頁面
<b>cq：rolloutConfigs</b> ：表示套用至Livecopy的作用中轉出設定
<b>cq：isDeep ： </b>如果此根Livecopy頁面的子頁面包含在Livecopy中，則為true。



- <b>cq：LiveRelationship</b> mixin型別

任何livecopy頁面的jcr：content節點上都有此類mixin型別。
如果沒有，頁面在某個時間點已被分離，或在Livecopy動作（建立或轉出）之外透過編寫介面手動建立



- <b>cq：LiveSyncCanceled</b> mixin型別

新增至已暫停之Livecopy頁面的jcr：content節點上。

如果暫停對子頁面也有效：在相同節點上新增cq：isCancelledForChildren=true屬性。



當然，那裡顯示的資訊應該反映在UI中， *不過，在您可以詢問UI或MSM行為的異常情況下，超級使用者可以直接驗證這些節點，以瞭解其MSM頁面的狀態。*

瞭解這些屬性對於查詢您的存放庫並找出處於特定狀態的頁面集也很有用。

範例： *從cq：LiveSync選取\**將會傳回所有Livecopy根頁面。
<br> 提出MSM支援票證時要提供的資訊。<br> 
您最終可能需要AEM支援協助。

在支援入口網站提出支援票證時，請依照以下准則，儘可能確認問題 [知識庫文章](https://experienceleague.adobe.com/docs/experience-cloud-kcs/kbarticles/KA-17494.html?lang=zh-Hant).

針對MSM問題，最好新增這些額外精確度：

- 附加記錄前：為記錄器啟用DEBUG層級 <b>com.day.cq.wcm.msm </b>，並重複有問題的MSM動作。

- 附加設定的輸出 <b>http://`<` 主機`>` ：`<` 連線埠`>` /libs/wcm/msm/content/commands/rolloutconfigs.json 。</b>

- 傳達附加至即時副本的轉出設定

- 如果問題似乎來自UI （出現瀏覽器主控台錯誤或UI錯誤快顯視窗）：產生HAR檔案，以便在執行有問題的MSM動作時從使用者的角度擷取完整流程：請參閱此 [連結](https://help.tenderapp.com/kb/troubleshooting-your-tender-site/generating-an-har-file) 以取得HAR檔案產生的詳細資訊

- <b>重現問題是支援人員快速分析和判斷行為是否正常並據此採取相應行動的最簡單方式。</b>

為此，請嘗試：

1) 根據We-Retail頁面在類似設定上重現問題

2) 如果不可能，請嘗試建置包含您範例內容的內容套件，讓支援工程師將其安裝在空白的AEM執行個體（與您的執行個體具有相同的修補程式層級），並重現問題。
