---
title: 「如何設定 Oak 登入權杖工作階段有效期」
description: 說明
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager Forms,Experience Manager"
keywords: 「KCS」
resolution: Resolution
internal-notes: "From: helpx.adobe.com/experience-manager/kb/How-to-set-token-session-expiration-AEM.html"
bug: false
article-created-by: Emily Geary
article-created-date: "3/17/2021 9:46:12 PM"
article-published-by: Emily Geary
article-published-date: "3/17/2021 9:52:33 PM"
version-number: 3
article-number: KA-16464
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=1f76a130-6a87-eb11-a812-000d3a593216"
exl-id: 46a5d421-add7-433d-b484-832508364660
source-git-commit: a59847e2e7e37f432cb01150b9444cd9dbf585df
workflow-type: tm+mt
source-wordcount: '182'
ht-degree: 100%

---

# 如何設定 Oak 登入權杖工作階段有效期

## 說明

如何為 AEM 設定登入權杖 Cookie 有效期？此權杖會影響預設 AEM 身分驗證 (權杖身分驗證) 和 SAML 型身分驗證的工作階段逾時。

<b>環境</b>

AEM 6.\*

## 解析度

如需有關權杖設定的更多文件，請參閱 [API 文件](https://jackrabbit.apache.org/oak/docs/apidocs/org/apache/jackrabbit/oak/security/authentication/token/TokenConfigurationImpl.html)。

1. 請前往 <b>http://aem-host:port/system/console/configMgr/org.apache.jackrabbit.oak.security.authentication.token.TokenConfigurationImpl</b> 並以管理員身分登入
1. 編輯權杖設定的值：
   1. <b>權杖有效期</b>=將此設定為以毫秒為單位的所需逾時值 (例如 3600000 即為 1 小時)
   1. <b>權杖長度</b>=8
   1. <b>雜湊反覆項目</b>=1000
   1. <b>雜湊鹽大小</b>=8

   <b>注意：</b>此 AEM *預設權杖有效時間*&#x200B;為 43200000 毫秒 (12 小時)。

1. 您編輯 <b>TokenConfiguration</b> (從 OSGI 主控台中) 後，會在 JCR 存放庫中建立<b>檔案 `/apps/system/config/org.apache.jackrabbit.oak.security.authentication.token.TokenConfigurationImpl.config`</b>。
1. 請前往 <b>http://aem-host:port/crx/de/index.jsp</b>
1. 瀏覽並開啟此檔案 <b>`/apps/system/config/org.apache.jackrabbit.oak.security.authentication.token.TokenConfigurationImpl.config`</b>
1. 如果欄位<b>`passwordHashAlgorithm`</b>存在於檔案中，則移除該行並儲存。例如，現在您的檔案可能如下所示：

   ```
    passwordHashIterations=I"1000"
   
    tokenExpiration="3600000"
   
    tokenLength="8"
   
    passwordSaltSize=I"8"
   ```
