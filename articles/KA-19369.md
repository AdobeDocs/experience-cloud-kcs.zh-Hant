---
title: "ACC — 如何產生PushEvent和PushEvents SOAP呼叫"
description: 說明
solution: Campaign,Campaign Classic v7,Campaign v8
product: Campaign,Campaign Classic v7,Campaign v8
applies-to: "Campaign Classic,Campaign,Campaign Classic v7,Campaign v8"
keywords: "KCS,PushEvent"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Krunal Oza
article-created-date: "1/18/2023 6:26:06 AM"
article-published-by: Krunal Oza
article-published-date: "1/18/2023 7:47:56 AM"
version-number: 2
article-number: KA-19369
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=00cb40fb-f896-ed11-aad1-6045bd0067ea"
source-git-commit: ba69673085798a7415117f63dd815a0d6b12236a
workflow-type: tm+mt
source-wordcount: '506'
ht-degree: 2%

---

# [ACC]  — 如何進行PushEvent和PushEvents SOAP呼叫

## 說明 {#description}

<b>環境</b>
- Campaign Classic
- Campaign
- Campaign Classic v7
- Campaign v8



<b>問題/症狀 </b>
<b>先決條件：</b>

- 下載觸發呼叫的SOAP UI

- 將WSDL(伺服器url/nl/jsp/schemawsdl.jsp?schema=nms:rtEvent)上傳至SOAP UI

- 測試電腦的IP必須獲得授權，否則您將收到「拒絕訪問」錯誤。

- 驗證的有效憑據（通常為mc user） *urn:sessiontokenlogin/password/urn:sessiontoken*




## 解決方法 {#resolution}


<u>推送事件：</u>

此呼叫將在觸發 *唯一*&#x200B;事件。

範本(*&quot;test&quot;* 在範例中)需要從控制執行個體成功在RT上發佈。

在 *urn:domEvent*，是類型的事件  *rtEvent* 必須以定義 *type*&#x200B;是範本類型， *電子郵件*&#x200B;是收件者電子郵件地址。

在ctx中，必須定義範本上使用的所有屬性。 在此範例中，範本包含下列項目：

`P` `Your email is: %= rtEvent.email %` `P` `- is using the attribute email directly as email in define within rtEvent`

`P` `Your first name: %= rtEvent.ctx.firstName %` `P` `- is using ctx.firstname as ctx is an inner element of rtEvent`

`P` `Your last name: %= rtEvent.ctx.lastName %` `P - is using ctx.lastname as ctx is an inner element of rtEvent`

呼叫範例：

*soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:urn=&quot;urn:nms:rtEvent」
<br>   soapenv:Header/
<br>   soapenv:Body
<br>      urn:PushEvent
<br>         urn:sessiontokenlogin/password/urn:sessiontoken
<br>         urn:domEvent
<br>            rtEvent type=&quot;test&quot; email=&quot;xxx@gmail.com&quot; 
<br>                ctx
<br>                    firstNameABC/firstName
<br>                   lastNameDEF/lastName
<br>                /ctx
<br>            /rtEvent
<br>         /urn:domEvent
<br>      /urn:PushEvent
<br>   /soapenv:Body
<br>/soapenv:Envelope*
<br><br>成功回應：<br><br>
*SOAP-ENV:Envelope xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:ns=&quot;urn:nms:rtEvent&quot; xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;
<br>   SOAP-ENV:Body
<br>      PushEventResponse SOAP-ENV:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns=&quot;urn:nms:rtEvent」
<br>         plId xsi:type=&quot;xsd:long&quot;0000000000/plId
<br>      /PushEventResponse
<br>   /SOAP-ENV:Body
<br>/SOAP-ENV：信封*

接收PIID表示已成功接收並正在處理事件。



<u>PushEvents:</u>

觸發時將使用此呼叫 *多個*&#x200B;事件。

所有需求都與第一次呼叫相同。

必須在 *urn:domEventCollection。*



呼叫範例：

*soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:urn=&quot;urn:nms:rtEvent」
<br>   soapenv:Header/
<br>   soapenv:Body
<br>      urn:PushEvents
<br>         urn:sessiontoken?/urn:sessiontoken
<br>         urn:domEventCollection
<br>            <b>! — 此時可輸入ANY元素。 需要超過1個元素 — </b>
<br>         /urn:domEventCollection
<br>      /urn:PushEvents
<br>   /soapenv:Body
<br>/soapenv:Envelope*

<b>注意：</b> 如果此呼叫中只定義1個元素，RT例項將會收到，回應200 OK，但 <b>不會觸發、處理任何事件，且不會在事件中顯示</b> 而且網站記錄中不會顯示任何內容。

您會收到這類回應，這表示回應已送達RT，但不會發生任何事：

*SOAP-ENV:Envelope xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:ns=&quot;urn:nms:rtEvent&quot; xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;
<br>   SOAP-ENV:Body
<br>      PushEventsResponse SOAP-ENV:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns=&quot;urn:nms:rtEvent」
<br>         pdomIds xsi:type=&quot;ns:Element&quot; SOAP-ENV:encodingStyle=&quot;http://xml.apache.org/xml-soap/literalxml&quot;
<br>            rtEvent email=&quot;xxx@gmail.com&quot; type=&quot;test&quot;/
<br>         /pdomIds
<br>      /PushEventsResponse
<br>   /SOAP-ENV:Body
<br>/SOAP-ENV：信封*

未觸發事件的原因是 <b>推送事件</b> 只適用於多個事件。 如果僅對一個事件進行呼叫，則 <b>推送事件</b> 需要呼叫。
