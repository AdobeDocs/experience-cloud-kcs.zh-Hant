---
title: 「ACC：如何進行PushEvent和PushEvents SOAP呼叫」
description: 說明
solution: Campaign,Campaign Classic v7,Campaign v8
product: Campaign,Campaign Classic v7,Campaign v8
applies-to: "Campaign Classic,Campaign,Campaign Classic v7,Campaign v8"
keywords: 「KCS、PushEvent、如何、建立PushEvent、建立PushEvents、SOAP呼叫、ACC、Adobe Campaign、Adobe Campaign Classic」
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Jim Menn
article-created-date: "5/26/2023 7:18:03 AM"
article-published-by: Jim Menn
article-published-date: "5/26/2023 7:22:49 AM"
version-number: 3
article-number: KA-19369
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=99a8ab72-95fb-ed11-8849-6045bd006e5a"
source-git-commit: b09e4ce82f93de5cdcadd7f96f9136fdc0720629
workflow-type: tm+mt
source-wordcount: '524'
ht-degree: 2%

---

# ACC：如何進行PushEvent和PushEvents SOAP呼叫

## 說明 {#description}

<b>環境</b>
- Campaign Classic
- Campaign
- Campaign Classic v7
- Campaign v8



<b>問題/症狀 </b>
<b>先決條件：</b>

- 下載用於觸發呼叫的SOAP UI

- 正在上傳WSDL (`<` 伺服器url`>` /nl/jsp/schemawsdl.jsp？schema=nms：rtEvent)至SOAP UI

- 測試電腦的IP必須經過授權，否則您會收到「拒絕存取」錯誤。

- 用於驗證的有效認證（通常是mc使用者），可放入 *`<`urn：sessiontoken`>` 登入/密碼`<` /urn：sessiontoken`>`*




## 解決方法 {#resolution}


<u>推送事件：</u>

此呼叫在觸發 *獨特* RT執行個體上的事件。

範本(*&quot;test&quot;* 在範例中)需要在RT上從控制執行個體成功發佈。

在 `<` *urn：domEvent*`>` ，型別的事件  `<` *rtEvent*`>`  定義時必須使用 *type*&#x200B;作為範本型別和 *電子郵件*&#x200B;是收件者的電子郵件地址。

在 `<` ctx`>` ，則必須定義範本上使用的所有屬性。 在此範例中，範本包含下列內容：

``<`` `P` ``>` Your email is: `<` %= rtEvent.email %`>` `<`` `P` ``>`  -`>`  is using the attribute email directly as email in define within rtEvent`

``<`` `P` ``>` Your first name: `<` %= rtEvent.ctx.firstName %`>` `<`` `P` ``>`  -`>`  is using ctx.firstname as ctx is an inner element of rtEvent`

``<`` `P` ``>` Your last name: `<` %= rtEvent.ctx.lastName %`>` `<`` `P`>`  -`>`  is using ctx.lastname as ctx is an inner element of rtEvent`

呼叫範例：

*`<`soapenv：Envelope xmlns：soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns：urn=&quot;urn:nms:rtEvent」`>`
<br>   `<` soapenv：Header/`>`
<br>   `<` soapenv：Body`>`
<br>      `<` urn：PushEvent`>`
<br>         `<` urn：sessiontoken`>` 登入/密碼`<` /urn：sessiontoken`>`
<br>         `<` urn：domEvent`>`
<br>            `<` rtEvent type=&quot;test&quot; email=&quot;xxx@gmail.com&quot;`>`  
<br>                `<` ctx`>`
<br>                    `<` 名字`>` ABC`<` /firstName`>`
<br>                   `<` 姓氏`>` DEF`<` /lastName`>`
<br>                `<` /ctx`>`
<br>            `<` /rtEvent`>`
<br>         `<` /urn：domEvent`>`
<br>      `<` /urn：PushEvent`>`
<br>   `<` /soapenv：Body`>`
<br>`<` /soapenv：Envelope`>`*

成功回應：

*`<`SOAP-ENV：Envelope xmlns：xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns：xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns：ns=&quot;urn:nms:rtEvent&quot; xmlns：SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;`>`
<br>   `<` SOAP-ENV：Body`>`
<br>      `<` PushEventResponse SOAP-ENV：encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns=&quot;urn:nms:rtEvent」`>`
<br>         `<` plId xsi：type=&quot;xsd：long&quot;`>` 0000000000`<` /plId`>`
<br>      `<` /PushEventResponse`>`
<br>   `<` /SOAP-ENV：Body`>`
<br>`<` /SOAP-ENV：Envelope`>`*

接收PIID表示已成功接收事件，且事件正在處理中。



<u>推送事件：</u>

觸發時使用此呼叫 *多個* RT執行個體上的事件。

所有要求與第一次呼叫相同。

多個 `<` rtEvent`>`  必須在以下位置定義： *`<`urn：domEventCollection`>` .*



呼叫的範例：

*`<`soapenv：Envelope xmlns：soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns：urn=&quot;urn:nms:rtEvent」`>`
<br>   `<` soapenv：Header/`>`
<br>   `<` soapenv：Body`>`
<br>      `<` urn：PushEvents`>`
<br>         `<` urn：sessiontoken`>` ？`<` /urn：sessiontoken`>`
<br>         `<` urn：domEventCollection`>`
<br>            <b>`<` ！ — 此時可輸入ANY元素。 需要1個以上的元素 — `>` </b>
<br>         `<` /urn：domEventCollection`>`
<br>      `<` /urn：PushEvents`>`
<br>   `<` /soapenv：Body`>`
<br>`<` /soapenv：Envelope`>`*

<b>注意：</b> 如果此呼叫中只定義1個元素，則RT執行個體會收到該元素，回應200 OK，但 <b>不會觸發、處理任何事件，也不會顯示在事件中</b> 而且網路記錄檔不會顯示任何內容。

您會收到此類回應，這表示它到達RT，但不會發生任何事情：

*`<`SOAP-ENV：Envelope xmlns：xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns：xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns：ns=&quot;urn:nms:rtEvent&quot; xmlns：SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;`>`
<br>   `<` SOAP-ENV：Body`>`
<br>      `<` PushEventsResponse SOAP-ENV：encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot; xmlns=&quot;urn:nms:rtEvent」`>`
<br>         `<` pdomIds xsi：type=&quot;ns：Element&quot; SOAP-ENV：encodingStyle=&quot;http://xml.apache.org/xml-soap/literalxml&quot;`>`
<br>            `<` rtEvent email=&quot;xxx@gmail.com&quot; type=&quot;test&quot;/`>`
<br>         `<` /pdomIds`>`
<br>      `<` /PushEventsResponse`>`
<br>   `<` /SOAP-ENV：Body`>`
<br>`<` /SOAP-ENV：Envelope`>`*

未觸發事件的原因為 <b>推送事件</b> 僅適用於多個事件。 如果呼叫僅與一個事件進行，則 <b>推送事件</b> 呼叫為必填。
