---
title: 「Adobe Experience Manager：如何解決AEM Cloud Service前端管道中的BUILD_NPM_AUDIT_ERROR」
description: 說明
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: 「KCS」
resolution: Resolution
internal-notes: "E-001037633"
bug: false
article-created-by: Ingyu Eum
article-created-date: "3/18/2024 9:31:04 AM"
article-published-by: Ingyu Eum
article-published-date: "3/18/2024 9:34:16 AM"
version-number: 1
article-number: KA-23912
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=ed0d093c-0ae5-ee11-904d-6045bd006704"
source-git-commit: 851503137637dd240d1de878e0639a4b3d3f87d4
workflow-type: tm+mt
source-wordcount: '322'
ht-degree: 3%

---

# Adobe Experience Manager：如何解決AEM Cloud Service前端管道中的BUILD_NPM_AUDIT_ERROR

## 說明 {#description}


前端管道的首次執行失敗並出現內部錯誤。

錯誤訊息：快速前端管道部署期間的Cloud Manager發生內部錯誤。 如果這種情況再次發生，請洽詢Adobe支援。

build.log中有BUILD_NPM_AUDIT_ERROR。

build.log： 01:23:34.567 `[` 主要`]`  INFO c.a.p.e.s.b.s.CommandLineServiceImpl — 執行命令npm —progress false audit —production —audit-level=critical 01:23:34.567 `[` 主要`]`  INFO c.a.p.e.s.b.s.CommandLineServiceImpl — 執行中： `[` npm， —progress， false，稽核， —production， —audit-level=critical`]`
npm錯誤！ 無法讀取未定義的屬性&#39;jquery&#39;

npm錯誤！ 此回合的完整記錄可以在： npm ERR！/root/.npm/_logs/1234-56-78T91_23_45_678Z-debug.log 01:23:34.567 `[` 主要`]`  DEBUG c.a.p.e.s.b.s.w.AbstractBuildWorkflowService — 儲存存放庫上步驟組建的預設錯誤代碼BUILD_NPM_AUDIT_ERROR `<` site-name`>`
01:23:34.567 `[` 主要`]`  INFO c.a.p.e.s.b.s.w.NpmBuildWorkflowService — 組建和掃描管道因IOException而中斷！
org.apache.commons.exec.ExecuteException：處理程式在org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java：404)退出並出現錯誤： 1 （退出值： 1）

本文說明如何解決此問題。

<b>環境</b>
AEMas a Cloud Service


## 解決方法 {#resolution}


按照檔案中的說明，刪除AEM專案程式碼中的以下兩個節點`[` 1`]` ：

·/conf/`<` site-name`>` /sling：configs/com.adobe.aem.wcm.site.manager.config.SiteConfig ·/conf/`<` site-name`>` /sling：configs/com.adobe.cq.wcm.core.components.config.HtmlPageItemsConfig

前端管道會使用已部署主題的套件名稱更新SiteConfig節點，但如果套件名稱和SiteConfig設定不同，則會失敗。

詳細資訊如下：

步驟 1.檢查位於以下路徑的.content.xml檔案： /ui.content/src/main/content/jcr_root/conf/__appId__/_sling_configs/

步驟 2：刪除兩個節點定義：
- 網站設定：
  `<` com.adobe.aem.wcm.site.manager.config.SiteConfig jcr：primaryType=&quot;nt：unstructured&quot; siteTemplatePath=&quot;/libs/wcm/core/site-templates/aem-site-template-stub-2.0.0&quot; themePackageName=&quot;${appId}「/`>`

- HtmlPageItemsConfig：
  `<` com.adobe.cq.wcm.core.components.config.HtmlPageItemsConfig jcr：primaryType=&quot;cq：Page&quot;`>`
··
  `<` /com.adobe.cq.wcm.core.components.config.HtmlPageItemsConfig`>`

步驟 3.在Cloud Manager中重新執行前端管道。

在步驟3完成後，AEM將正確重新建立這些設定節點。 此管道在之後應該會成功。

`[` 1`]`  啟用前端管道https://experienceleague.adobe.com/ja/docs/experience-manager-cloud-service/content/sites/administering/site-creation/enable-front-end-pipeline#technical-details
