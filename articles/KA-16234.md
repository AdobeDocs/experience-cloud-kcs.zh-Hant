---
title: 無法對DM傳送輸出檔案名稱使用/查詢
description: 說明
solution: Campaign
product: Campaign
applies-to: Campaign Classic,Campaign,Campaign Standard
keywords: KCS — 無法對DM傳送輸出檔案名稱使用/查詢
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Karan Khanna
article-created-date: 5/10/2022 3:35:40 PM
article-published-by: Karan Khanna
article-published-date: 5/10/2022 3:36:01 PM
version-number: 2
article-number: KA-16234
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=43c42ad4-76d0-ec11-a7b5-00224809c556
exl-id: e45ff2b0-8e36-4fa2-8270-6a6ddaa0b7aa
source-git-commit: 6a23faae10364181be7dedc2f408f2ad8d8be3c9
workflow-type: tm+mt
source-wordcount: '273'
ht-degree: 1%

---

# 無法對DM傳送輸出檔案名稱使用/查詢

## 說明


我的客戶中有一人報告了以下問題，因為他們有一些不同的業務要求。

從 `mdata` 欄位中，我們要提取outputFile名稱 — 有關位置，請參見attachment(mData_outputFile.png)，儲存在 `outputFile=" "`. 我們想要知道轉換此xml資料類型欄位的最佳方式，以便在 [!DNL Campaign] 工作流程，以便將促銷記錄表附加至儲存所有輸出檔案名稱。

我最初試圖聯繫我的同事，但不幸的是，他們對上述問題沒有太多資訊。 因為我們知道 `mdata` 是XML欄位，而不是要查詢的DB欄位。 但除此之外，還有什麼方法可以實現這一情景？


## 解析度


使用 [!UICONTROL 檔案擷取] 活動，以擷取XML格式的傳送資料。



這可確保也擷取資料。



然後，您可以使用 [!UICONTROL 載入檔案] 活動或 [!UICONTROL JS程式碼] 活動來剖析該檔案並取得您的資料。



或



使用 [!UICONTROL JS程式碼] 活動與 `queryDef` 擷取傳送的mdata，然後剖析xml。



將資料儲存在例項變數中，然後在轉變中載入





客戶有一個後續查詢，如下所示：

「我們正嘗試使用 `queryDef` 對抗我們能寫的資料。 對於剖析方法，建議採用什麼方法？」



<b>答案 — </b>

您的要求將會是


```
*queryDef operation="select" schema="nms:delivery"*

*select*

*node expr="@id"/*

*node expr="output/@fileName" label="Output file"/*

*/select*

*sysFilter*

*condition expr="@isModel = 0"/*

*/sysFilter*

*orderBy*

*node expr="@lastModified" sortDesc="true"/*

*/orderBy*

*/queryDef*
```


它會回來

```
*delivery-collection*

*delivery id="11878415"*

*output filename=”abc.txt”*

*/output*

*/delivery*

*/delivery-collection*
```
