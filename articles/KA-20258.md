---
title: DataStore GarbageCollection任務失敗，出現錯誤
description: 說明
solution: Experience Manager
product: Experience Manager
applies-to: Experience Manager
keywords: KCS
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Sunali Paul
article-created-date: 8/3/2022 10:43:31 AM
article-published-by: Sunali Paul
article-published-date: 8/5/2022 7:27:13 AM
version-number: 1
article-number: KA-20258
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=9174741c-1913-ed11-b83d-0022480867fb
exl-id: 841377b0-1f7c-4026-9de9-838bf88c0aa0
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '316'
ht-degree: 0%

---

# DataStore GarbageCollection任務失敗，出現錯誤

## 說明


DataStoreGarbageCollectionTask失敗，出現以下錯誤

\*ERROR\* sling-oak-ook-oversitation-19 org.apache.jackrabbit.oak.plugins.blob.MarkSweepGarbageCollector並非所有存放庫都有標示為可用的參考：e0fb2a15-d5d5-4013-9607-0fb89cf87c94 26.07.2022 20:56:50.737 \*ERROR\* sling-oak-ook-oversition-19 org.apache.jackrabbit.oak.plugins.blob.MarkSweepGarbageCollector Blob垃圾收集錯誤java.io.IOException:並非所有存放庫皆已在org.apache.jackrabbit.oak.plugins.blob.MarkSweepGarbageCollector$GarbageCollectionType$1.mergeAllMarkedReferences(MarkSweepGarbageCollector.java:7 22)org.apache.jackrabbit.oak-blob-plugins:1.8.21 at org.apache.oak.oak.p.SwepGrab.GbepGbagbagCarbCabCollectorg.j.jab.ab.ab.ab.ab.cab.cab.cab.cab.cargrbgb.cab.cab.cab.cab.cargbagb.ckCarbag.cab.ckCollectorgb.carb.ckb.ckCarbaoak-blob-plugins :1.8.21 at org.apache.jackrabbit.oak.plugins.blob.MarkSweepGarbageCollector.markAndSweep(MarkSweepGarbageCollector.java:284)org.apache.jackrabbit.oak-blob-plugins:1.8.21 at org.apache.blob.ok.SepMarkSweepGableCollectorg.collectorgGGCarb(MarkMarkCarbag.jab.orb.orb.orb.or.org-19)外掛程式：1.8.21 at org.apache.jackrabbit.oak.plugins.blobGC$1.call(BlobGC.java:87)org.apache.jackrabbit.oak-blob-plugins:1.8.21 at org.apache.jackrabbit.oak.blob.BlobGC$1.call(BlobGC.java:83)。apache.jab.b-blop:1.21.21 at.cut.ubut.java.java.java.ut.u.future.r.r.r.r.r.r.r.r.uput.r.java.ut（未來任務：r.r.r.r.rup.r.up.r.up.ub.ub.up.t.t.t.ja.t.up.66）在java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)在java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)在java.lang.Thread.run(Thread.java:748)26.07.2022 20:56:51.620 \*ERROR\* pool-20-thread-1 org.apache.jackrabbit.oak.commons.jmx.ManagementOperation Blob垃圾收集失敗java.io.IOException:並非所有存放庫皆已在org.apache.jackrabbit.oak.plugins.blob.MarkSweepGarbageCollector$GarbageCollectionType$1.mergeAllMarkedReferences(MarkSweepGarbageCollector.java:7 22)org.apache.jackrabbit.oak-blob-plugins:1.8.21 at org.apache.oak.oak.p.SwepGrab.GbepGbagbagCarbCabCollectorg.j.jab.ab.ab.ab.ab.cab.cab.cab.cab.cargrbgb.cab.cab.cab.cab.cargbagb.ckCarbag.cab.ckCollectorgb.carb.ckb.ckCarbaoak-blob-plugins :1.8.21 at org.apache.jackrabbit.oak.plugins.blob.MarkSweepGarbageCollector.markAndSweep(MarkSweepGarbageCollector.java:284)org.apache.jackrabbit.oak-blob-plugins:1.8.21 at org.apache.blob.ok.SepMarkSweepGableCollectorg.collectorgGGCarb(MarkMarkCarbag.jab.orb.orb.orb.or.org-19)外掛程式：1.8.21 at org.apache.jackrabbit.oak.plugins.blobGC$1.call(BlobGC.java:87)org.apache.jackrabbit.oak-blob-plugins:1.8.21 at org.apache.jackrabbit.oak.blob.BlobGC$1.call(BlobGC.java:83)。apache.jab.b-blop:1.21.21 at.cut.ubut.java.java.java.ut.u.future.r.r.r.r.r.r.r.r.uput.r.java.ut（未來任務：r.r.r.r.rup.r.up.r.up.ub.ub.up.t.t.t.ja.t.up.66）在java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)在java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)在java.lang.Thread.run(Thread.java:748)26.07.2022 20:56:51.628 \*INFO\* pool-20-thread-1 com.adobe.granite.maintenance.impl.MaintenanceJobsManagerImpl Name=&#39;DataStoreGarbageCollectionTask&#39;, Status =&#39;ERROR&#39;, Result=&#39;Data store GC:操作失敗Blob垃圾收集失敗：並非所有存放庫都將參考標示為可用&#39;, Details=&#39;{&quot;created&quot; :1658858205603,&quot;started&quot;:1658858205603,&quot;finished&quot;:1658858211620,&quot;duration&quot;:6017}&#39;


## 解析度


如果您先前有一個執行個體使用資料存放區，且該資料存放區已毀，且已建立新執行個體以使用資料存放區，就可能會發生此問題。

移除在資料存放區中註冊的存放庫ID後，即可解決此問題。 Blob儲存GC應該成功完成。

逐步指南：1)前往資料存放區路徑aem-install-folder/crx-quickstart/repository/datastore，並搜尋存放庫ID <b>e0fb2a15-d5d5-4013-9607-0fb89cf87c94</b> (應與error.log中提及的相同 <b>錯誤</b>\* sling-oak-ook-overtation-19 org.apache.jackrabbit.oak.plugins.blob.MarkSweepGarbageCollector並非所有存放庫都有標示為可用的參考： <b>e0fb2a15-d5d5-4013-9607-0fb89cf87c94</b>)，您會有一個具有此名稱的參考檔案，只需刪除該參考檔案（如果有多個檔案，請重複這些步驟）。

2)再次運行GC，檢查它是否解決了問題。
