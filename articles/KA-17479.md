---
title: 自訂錯誤處理常式頁面
description: 說明
solution: Experience Manager
product: Experience Manager
applies-to: Experience Manager
keywords: KCS
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Victoria Barnato
article-created-date: 2/22/2023 8:22:40 PM
article-published-by: Victoria Barnato
article-published-date: 2/22/2023 8:24:03 PM
version-number: 3
article-number: KA-17479
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=8df423a3-eeb2-ed11-83fe-6045bd0067ea
exl-id: 93225b9d-2310-4f3b-8523-79059f3ef712
source-git-commit: 41fe73a29e4e479f1ef3668171a9726bd4e8c1b7
workflow-type: tm+mt
source-wordcount: '304'
ht-degree: 2%

---

# 自訂錯誤處理常式頁面

## 說明 {#description}

<b>環境</b>
Experience Manager


<b>問題/症狀</b>
如何建立可呈現不同HTTP錯誤的自訂指令碼或錯誤處理常式？


## 解決方法 {#resolution}


預設的錯誤處理常式指令碼位於/libs/sling/servlet/errorhandler下。

您可以從/libs/sling/servlet/errorhandler將您要自訂的指令碼複製到/apps下的相同位置（即/apps/sling/servlet/errorhandler），以覆蓋預設錯誤處理。 如果此路徑不存在（預設為不存在），請建立此路徑。

例如，您可以將/libs/sling/servlet/errorhandler/404.jsp複製到/apps/sling/servlet/errorhandler/404.jsp來自訂404錯誤的處理

http 500錯誤是由伺服器端例外狀況所造成。 當請求處理導致例外狀況時，Apache Sling架構CQ會以記錄例外狀況為基礎，並在回應本文中傳回http錯誤碼500和例外狀況棧疊追蹤。

若要處理500個錯誤，錯誤處理常式指令碼的檔案名稱必須與exception類別（或其超級類別）相同。 舉例來說，若要處理所有例外狀況，請建立指令碼/apps/sling/servlet/errorhandler/Throwable.jsp。

請參閱 [Sling錯誤處理](https://sling.apache.org/documentation/the-sling-engine/errorhandling.html) 以取得其他資訊。

*注意*：只有在明確執行HttpServletResponse.sendError(500)時（即從例外狀況擷取器）才會使用500.jsp。
否則，僅回應程式碼會設為500，但不會執行500.jsp。
在此情況下，您可以新增 *Exception.jsp* 以處理所有這些例外。

*注意*：在製作執行個體上，預設會啟用CQ WCM偵錯篩選器。 這會一律產生回應代碼200，並取得預設Errorhandler ，以將完整棧疊追蹤寫入回應。 在發佈執行個體上， CQ WCM偵錯篩選器一律會停用（如果您將其設定為啟用）。..
