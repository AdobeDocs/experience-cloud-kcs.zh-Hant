---
title: 「如何在AEM Touch UI或傳統UI中除錯用戶端問題」
description: 說明
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: "KCS"
resolution: Resolution
internal-notes: "Helpx Link: https://helpx.adobe.com/experience-manager/kb/How-to-debug-javascript-errors-in-AEM.html"
bug: false
article-created-by: Emily Geary
article-created-date: "4/12/2021 6:15:20 PM"
article-published-by: Emily Geary
article-published-date: "4/12/2021 6:19:54 PM"
version-number: 1
article-number: KA-16935
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=2eb50a08-bb9b-eb11-b1ac-000d3a3680d8"
exl-id: 7f829412-3d0b-46da-b805-ad911733a3ed
source-git-commit: 0c3e421beca46d9fe1952b1f98538a50697216a0
workflow-type: tm+mt
source-wordcount: '505'
ht-degree: 0%

---

# 如何在AEM Touch UI或傳統UI中除錯用戶端問題

## 說明


本指南會說明如何在瀏覽器中診斷JavaScript問題。

<b>JavaScript錯誤範例</b>




```
Uncaught TypeError: $(...).not(...).draggable is not a function
at HTMLDocument. (lightbox.js:45)
at HTMLDocument.dispatch (jquery.js:4665)
at HTMLDocument.elemData.handle (jquery.js:4333)
at Object.trigger (jquery.js:4574)
at HTMLElement. (jquery.js:5284)
at Function.each (jquery.js:384)
at jQuery.fn.init.each (jquery.js:136)
at jQuery.fn.init.trigger (jquery.js:5283)
```



## 解析度


<b>A. Javascript除錯提示</b>

- <b>尋找與UI按鈕系結的事件處理常式並除錯</b>  — 如果錯誤或問題發生在觸控式UI中，與可點按按鈕相關，則可能有助於查看頁面上與該元素系結的所有事件處理常式。  在 [!DNL Google Chrome] 瀏覽器，以滑鼠右鍵按一下按鈕、影像、連結等，然後選取「Inspect」。 在左下角的面板中，選取HTML元素。  在右下角的面板中，選擇「事件偵聽器」頁簽以查看與元素綁定的事件偵聽器。
- <b>縮制或難讀Javascript程式碼的格式</b>  — 啟用 [印刷品](https://developers.google.com/web/tools/chrome-devtools/javascript/pretty-print) 功能 [!DNL Chrome] debugger，讓javascript的讀取和除錯更輕鬆。
- <b>在本機修改javascript以測試潛在修正</b>  — 使用 [本地覆蓋](https://developers.google.com/web/updates/2018/01/devtools#overrides) 功能 [!DNL Chrome] 若要在瀏覽器上編輯javascript檔案，以在在AEM伺服器上進行變更之前先測試變更。


<b>B.客戶端庫調試模式</b>

啟用客戶端庫調試模式對於搜索組成客戶端庫的單獨檔案非常有用。

1. 在中開啟頁面 [!DNL Chrome] 瀏覽器至有錯誤的頁面。
2. 在URL結尾的位址列中，任何URL錨點之前，新增此查詢字串參數 `debugClientLibs=true`.

   例如︰`http://localhost:4502/siteadmin?<b>debugClientLibs=true</b>#/content/we-retail`

   此選項會使客戶端庫單獨載入其所有檔案，而不是合併這些檔案。

   在觸控式UI中，啟用用戶端LIB的除錯模式可能會中斷頁面。  不過，它仍是實用的功能，因為它可用來檢視用戶端程式庫中哪個檔案包含您要除錯的特定程式碼行。
3. 在 [!DNL Chrome] 瀏覽器（位於右上角），請前往 <b>工具=更多工具=開發人員工具</b>
4. 按一下「開發人員工具」面板的「主控台」。
5. 應列出JavaScript錯誤。  錯誤的右側是檔案和行號的連結，其中JavaScript程式碼失敗。  按一下檔案連結。
6. 現在你應該 <b>來源</b> 頁簽，在代碼失敗的行上。  在代碼中設定斷點，方法是按一下右鍵行號並選擇 <b>添加斷點。  </b>請參閱 [[!DNL Google Chrome] 檔案](https://developers.google.com/web/tools/chrome-devtools/javascript/breakpoints) 有關斷點的詳細資訊。
7. 重新整理頁面，即可開始對JavaScript進行除錯。


<b>C.禁用縮制</b>

在除錯期間，如果javascript已縮制，可在瀏覽器中設定格式或停用縮制會有所幫助。

- 前往 `http://aemhost/system/console/configMgr/com.adobe.granite.ui.clientlibs.impl.HtmlLibraryManagerImpl`


- 取消選中 <b>Minify</b>


- 按一下 <b>儲存</b>


- 重新整理您正在偵錯的頁面，Javascript將更容易讀取並設定中斷點。


<u>除錯提示</u>

如果您無法停用用戶端程式庫上的縮制，則至少可以美化列印javascript以進行更佳的除錯。 請參閱 [這篇文章](https://developers.google.com/web/tools/chrome-devtools/javascript/pretty-print) 以了解 [!DNL Google Chrome] 瀏覽器。
