---
title: "發佈停滯於狀態\"稍後\"的資產"
description: 說明
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: 「KCS」
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Nayanika Chakravarty
article-created-date: "1/10/2023 9:35:23 PM"
article-published-by: Nayanika Chakravarty
article-published-date: "1/11/2023 12:10:00 AM"
version-number: 2
article-number: KA-19842
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=a8a206ad-2e91-ed11-aad1-6045bd0063aa"
source-git-commit: 8c6bab987facdf3228d401fb5c6f3ed94ff6807f
workflow-type: tm+mt
source-wordcount: '151'
ht-degree: 7%

---

# 發佈狀態為「稍後」的資產

## 說明 {#description}


<b>環境</b>

Adobe Experience Manager

<b>問題/症狀</b>

發佈多個資產（尤其是影像）時，客戶遇到持續的故障。 有時，其影像卡在永不結束的狀態「Later」，有時則卡在狀態「Pending」，而未能變成「Not Published」。

<b>錯誤</b>

嘗試「快速發佈」資產時， `error.log` 顯示下列內容：

`error.log`：


```
*IP 1653299068783 POST /libs/wcm/core/content/reference.json HTTP/1.1 org.apache.sling.engine.impl.SlingRequestProcessorImpl service: Uncaught Throwable
javax.servlet.ServletException: java.lang.RuntimeException: error while getting tags for '/content/dam/path-to-asset/jcr:content/metadata' at com.day.cq.wcm.core.impl.reference.ActivationReferenceSearchServlet.doGet(ActivationReferenceSearchServlet.java:140) com.day.cq.wcm.cq-wcm-core:5.14.28 at com.day.cq.wcm.core.impl.reference.ActivationReferenceSearchServlet.doPost(ActivationReferenceSearchServlet.java:100) com.day.cq.wcm.cq-wcm-core:5.14.28 at org.apache.sling.api.servlets.SlingAllMethodsServlet.mayService(SlingAllMethodsServlet.java:146) org.apache.sling.api:2.25.0 at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:342) org.apache.sling.api:2.25.0 at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:374) org.apache.sling.api:2.25.0 at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:583) org.apache.sling.engine:2.9.0 at org.apache.sling.engine.impl.filter.SlingComponentFilterChain.render(SlingComponentFilterChain.java:45) org.apache.sling.engine:2.9.0

…

Caused by: javax.jcr.ValueFormatException: cq:tags = value is single-valued. at org.apache.jackrabbit.oak.jcr.delegate.PropertyDelegate.getMultiState(PropertyDelegate.java:137) org.apache.jackrabbit.oak-jcr:1.42.0.T20220401090340-a7d9bc5 at org.apache.jackrabbit.oak.jcr.session.PropertyImpl$6.perform(PropertyImpl.java:266) org.apache.jackrabbit.oak-jcr:1.42.0.T20220401090340-a7d9bc5 at org.apache.jackrabbit.oak.jcr.session.PropertyImpl$6.perform(PropertyImpl.java:261) org.apache.jackrabbit.oak-jcr:1.42.0.T20220401090340-a7d9bc5 at org.apache.jackrabbit.oak.jcr.delegate.SessionDelegate.perform(SessionDelegate.java:210) org.apache.jackrabbit.oak-jcr:1.42.0.T20220401090340-a7d9bc5 at org.apache.jackrabbit.oak.jcr.session.ItemImpl.perform(ItemImpl.java:112) org.apache.jackrabbit.oak-jcr:1.42.0.T20220401090340-a7d9bc5 at org.apache.jackrabbit.oak.jcr.session.PropertyImpl.getValues(PropertyImpl.java:261) org.apache.jackrabbit.oak-jcr:1.42.0.T20220401090340-a7d9bc5 at com.day.cq.tagging.impl.JcrTagManagerImpl.getTags(JcrTagManagerImpl.java:797) com.day.cq.cq-tagging:5.13.12*
```



## 解決方法 {#resolution}


如 `error.log`，問題是 `"javax.jcr.ValueFormatException: cq:tags = value is single-valued"`

此 `cq:tags` 屬性實際上是 ``String Array``，此為多值屬性。 但是，在這種情況下，它屬於 ``String`` 導致錯誤。

變更 `cq:tags` 屬性類型為 ``String Array``，資產已成功發佈。

<b>檔案連結</b>

有關 `cq:tags` 屬性可在下列檔案連結中找到：
[https://experienceleague.adobe.com/docs/experience-manager-65/developing/platform/tagging/framework.html?lang=en](https://experienceleague.adobe.com/docs/experience-manager-65/developing/platform/tagging/framework.html?lang=en)
